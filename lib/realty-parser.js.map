{"version":3,"sources":["parser-factory.js","property.js","parsers/avito-parser.js","parsers/parser.js"],"names":[],"mappings":"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","file":"realty-parser.js","sourcesContent":["class ParserFactory {\n  static create(type) {\n    switch (type) {\n      case 'avito':\n        break;\n      case 'cian':\n        break;\n      default:\n        throw new TypeError('Parser type is not recognized');\n    }\n  }\n}\n\nexport default ParserFactory;\n","class Property {\n  constructor(source, url) {\n    this.source = source;\n    this.url = url;\n  }\n\n  // property type: room/appartment/house, etc\n  type = null;\n\n  roomCount = null;\n  propertySize = null;\n  propertySizeUnits = null; // sq.m/sq.ft\n\n  floor = null;\n  floorsInBuilding = null;\n\n  // pricing\n  rent = null;\n  rentType = null; // daily/monthly\n  commission = null;\n  deposit = null;\n  currency = null;\n\n  // location\n  city = null;\n  address = null;\n  lat = null;\n  lng = null;\n\n  // property description\n  description = null;\n\n  // wifi, washing machine, etc\n  householdAppliances = [];\n\n  // parking place, balcony, etc\n  comforts = [];\n\n  // pets allowed, etc\n  permissions = [];\n}\n\nexport default Property;\n","import Parser from './parser.js';\nimport Property from '../property';\nimport request from 'request';\nimport cheerio from 'cheerio';\n\nclass AvitoParser extends Parser {\n  static permissionsMapping = {\n    'Можно с питомцами': 'pets_allowed',\n    'Можно с детьми': 'family_with_children_allowed',\n    'Можно курить': 'smoking_allowed',\n    'Можно для мероприятий': 'use_as_event_space_allowed',\n  }\n\n  static comfortsMapping = {\n    'Балкон / лоджия': 'balcony',\n    'Кондиционер': 'conditioner',\n    'Парковочное место': 'parking_space',\n    'Камин': 'fireplace',\n  }\n\n  static householdAppliancesMapping = {\n    'Wi-Fi': 'wifi',\n    'Телевизор': 'tv',\n    'Кабельное / цифровое ТВ': 'cable_tv',\n    'Плита': 'stove',\n    'Микроволновка': 'microwave',\n    'Холодильник': 'fridge',\n    'Стиральная машина': 'washing_machine',\n    'Фен': 'hairdryer',\n    'Утюг': 'iron',\n  }\n\n  _extractPropertyTypeFromHeader(header) {\n    const room = 'комната';\n    const appartment = 'квартира';\n    const studio = 'студия';\n    const house = 'дом';\n    if (header.indexOf(room) > -1) {\n      return 'room';\n    } else if (header.indexOf(appartment)) {\n      return 'appartment';\n    } else if (header.indexof(studio)) {\n      return 'studio';\n    } else if (header.indexOf(house)) {\n      return 'house';\n    }\n    return null;\n  }\n\n  _extractRoomCountFromHeader(header) {\n    const roomCountMatches = header.match(/\\d+(?=\\-к)/);\n    if (roomCountMatches.length > -1) return roomCountMatches[0];\n    return null;\n  }\n\n  _extractPropertySizeFromHeader(header) {\n    const propertySizeMatches = header.match(/\\d+(?=\\s*м²)/);\n    if (propertySizeMatches.length > -1) return propertySizeMatches[0];\n    return null;\n  }\n\n  _extractFloorFromHeader(header) {\n    const floorMatches = header.match(/\\d\\/\\d(?=\\s*эт)/);\n    if (floorMatches.length > -1) {\n      const floors = floorMatches[0].split('/');\n      return parseInt(floors[0], 10);\n    }\n    return null;\n  }\n\n  _extractFloorsInBuildingFromHeader(header) {\n    const floorMatches = header.match(/\\d\\/\\d(?=\\s*эт)/);\n    if (floorMatches.length > -1) {\n      const floors = floorMatches[0].split('/');\n      return parseInt(floors[1], 10);\n    }\n    return null;\n  }\n\n\n  _extractRentType(rentString) {\n    // get rent type (monthly, daily)\n    const monthly = 'месяц';\n    const daily = 'день';\n    if (rentString.indexOf(monthly) > -1) {\n      return 'monthly';\n    } else if (rentString.indexOf(daily) > -1) {\n      return 'daily';\n    }\n    return null;\n  }\n\n  _extractRent(rentString) {\n    const rentMatches = rentString.match(/(\\d+\\s*)+/);\n    if (rentMatches.length > 0) {\n      const normalizedRentString = rentMatches[0].replace(/[\\s]/g, '');\n      return parseFloat(normalizedRentString);\n    }\n    return null;\n  }\n\n  _exractCommission(commissionString) {\n    const commission = 'комиссия';\n    if (commissionString.indexOf(commission) > -1) {\n      const regex = /(?:комиссия\\s+)((\\d+\\s*)+)/g;\n      const commissionMatches = regex.exec(commissionString);\n      if (commissionMatches.length > 1) {\n        const normalizedCommissionString = commissionMatches[1].replace(/[\\s]/g, '');\n        return parseFloat(normalizedCommissionString);\n      }\n    }\n    return null;\n  }\n\n  _extractDeposit(commissionString) {\n    const deposit = 'залог';\n    if (commissionString.indexOf(deposit) > -1) {\n      const regex = /(?:залог\\s+)((\\d+\\s*)+)/g;\n      const depositMatches = regex.exec(commissionString);\n      if (depositMatches.length > 1) {\n        const normalizedDepositString = depositMatches[1].replace(/[\\s]/g, '');\n        return parseFloat(normalizedDepositString);\n      }\n    }\n    return null;\n  }\n\n\n  // TODO: should parse selling properties too, not only rental\n  // TODO: detect if owner or agency posted ad\n  // TODO: extract photos\n  _parsePage(body, url) {\n    const result = new Property('avito', url);\n    result.currency = 'rub';\n\n    const $ = cheerio.load(body);\n\n    const header = $('.h1').text().toLowerCase();\n\n    result.type = this._extractPropertyTypeFromHeader(header);\n    result.roomCount = this._extractRoomCountFromHeader(header);\n    result.propertySize = this._extractPropertySizeFromHeader(header);\n    result.floor = this._extractFloorFromHeader(header);\n    result.floorsInBuilding = this._extractFloorsInBuildingFromHeader(header);\n    result.propertySizeUnits = 'sq.m';\n\n    // get city\n    $('span', '.description_content').each((index, elem) => {\n      if ($(elem).attr('itemprop') === 'name') {\n        result.city = $(elem).text();\n      }\n    });\n\n    // get address\n    $('.description_content').each((index, elem) => {\n      if ($(elem).attr('itemprop') === 'address') {\n        result.address = $(elem).text();\n      }\n    });\n\n    // get description\n    result.description = $('#desc_text').text();\n\n    // get rent and rent type\n    const rentString = $('.p_i_price').text().toLowerCase();\n    result.rentType = this._extractRentType(rentString);\n    result.rent = this._extractRent(rentString);\n\n    // get commission and deposit\n    const commissionString = $('.description_commission').text().toLowerCase();\n    result.commission = this._exractCommission(commissionString);\n    result.deposit = this._extractDeposit(commissionString);\n\n    // get coordinates\n    result.lat = $('.js-item-map').attr('data-map-lat');\n    result.lng = $('.js-item-map').attr('data-map-lon');\n\n    $('.item-param-g-value').each((index, elem) => {\n      const items = $(elem).text().split(',');\n      for (let i = 0; i < items.length; i++) {\n        items[i] = items[i].trim();\n      }\n\n      for (let i = 0; i < items.length; i++) {\n        const prop = items[i];\n        if (AvitoParser.permissionsMapping[prop]) {\n          result.permissions.push(AvitoParser.permissionsMapping[prop]);\n        }\n\n        if (AvitoParser.comfortsMapping[prop]) {\n          result.comforts.push(AvitoParser.comfortsMapping[prop]);\n        }\n\n        if (AvitoParser.householdAppliancesMapping[prop]) {\n          result.householdAppliances.push(AvitoParser.householdAppliancesMapping[prop]);\n        }\n      }\n    });\n\n    return result;\n  }\n\n  parse(url) {\n    if (typeof url === 'undefined' || url === '') {\n      throw new Error('url param should be valid');\n    }\n\n    const _this = this;\n    return new Promise((resolve, reject) => {\n      request.get(url, function(err, response, body) {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(_this._parsePage(body, url));\n        }\n      });\n    });\n  }\n}\n\nexport default AvitoParser;\n","class Parser {\n  parse() {\n    throw new Error('Not implemented');\n  }\n}\n\nexport default Parser;\n"],"sourceRoot":"/source/"}